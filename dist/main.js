!function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class r{constructor(t,e=10){this.radius=e,this.x=t.width/2,this.y=t.height-10,this.dx=3,this.dy=-5}move(){this.x+=this.dx,this.y+=this.dy}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle="#ffffff",t.fill()}}class s{constructor(){this.bricks=[],this.brickRowCount=3,this.brickColumnCount=5,this.brickWidth=75,this.brickHeight=20,this.brickPadding=10,this.brickOffSetTop=95,this.brickOffSetLeft=30;for(let t=0;t<this.brickColumnCount;t+=1){this.bricks[t]=[];for(let e=0;e<this.brickRowCount;e+=1)this.bricks[t][e]={x:0,y:0,status:1}}}render(t){const{brickColumnCount:e,brickOffSetTop:i,brickOffSetLeft:r,brickRowCount:s,brickHeight:o,brickWidth:n,brickPadding:c,bricks:l}=this;for(let h=0;h<e;h+=1)for(let e=0;e<s;e+=1)if(1===l[h][e].status){const s=h*(n+c)+r,d=e*(n+c)+i;switch(l[h][e].x=s,l[h][e].y=d,t.beginPath(),t.rect(s,d,n,o),e){case 0:t.fillStyle="#F7705E";break;case 1:t.fillStyle="#ffab61";break;case 2:t.fillStyle="#7aff83";break;default:t.fillStyle="#a6a6a6"}t.fill()}}}class o{constructor(t,e=10,i=75){this.canvas=t,this.height=e,this.width=i,this.x=(t.width-this.width)/2,this.rightClick=!1,this.leftClick=!1,document.addEventListener("keydown",t=>this.keyDownHandler(t),!1),document.addEventListener("keyup",t=>this.keyUpHandler(t),!1),document.addEventListener("mousemove",t=>this.mouseMoveHandler(t),!1)}keyDownHandler(t){"Right"===t.key||"ArrowRight"===t.key?this.rightClick=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftClick=!0)}keyUpHandler(t){"Right"===t.key||"ArrowRight"===t.key?this.rightClick=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftClick=!1)}mouseMoveHandler(t){const e=t.clientX-this.canvas.offsetLeft;e>0&&e<this.canvas.width&&(this.x=e-this.width/2)}render(t){t.beginPath(),t.rect(this.x,this.canvas.height-this.height,this.width,this.height),t.fillStyle="#89BCC8",t.fill()}}class n{constructor(t,e="#fff"){this.canvas=t,this.color=e,this.score=0,this.lives=3}render(t){t.font="35px Teko",t.fillStyle=this.color,t.fillText(`LIVES: ${this.lives}`,this.canvas.width-85,35),t.fillText(`SCORE: ${this.score}`,8,35)}}const c=document.getElementById("game-header"),l=document.getElementById("my-canvas"),h=l.getContext("2d"),d=new class{constructor(t,e){this.gameHeader=e,this.HUD=new n(t),this.bricks=new s,this.ball=new r(t),this.paddle=new o(t)}gameOver(t){for(let e=0;e<t.brickColumnCount;e+=1)for(let i=0;i<t.brickRowCount;i+=1)if(1===t.bricks[e][i].status)return!1;return!0}collisionDetection(){const{ball:t,bricks:e,HUD:i,gameHeader:r}=this;for(let s=0;s<e.brickColumnCount;s+=1)for(let o=0;o<e.brickRowCount;o+=1){const n=e.bricks[s][o];1===n.status&&t.x>n.x&&t.x<n.x+e.brickWidth&&t.y>n.y&&t.y<n.y+e.brickHeight&&(t.dy=-t.dy,n.status=0,i.score+=0===o?200:1===o?100:10,this.gameOver(e)&&(r.innerHTML=`Game over, you won! <br /> Your Score - ${i.score}`,setTimeout(()=>{document.location.reload()},3e3),t.dx=0,t.dy=0))}}move(t){const{ball:e,paddle:i,HUD:r,gameHeader:s}=this;e.move(),(e.x+e.dx>t.width-e.radius||e.x+e.dx<e.radius)&&(e.dx=-e.dx),e.y+e.dy<e.radius?e.dy=-e.dy:e.y+e.dy>t.height-e.radius&&(e.x>i.x&&e.x<i.x+i.width?e.dy=-e.dy:(r.lives-=1,r.lives?(e.x=t.width/2,e.y=t.height-30,e.dx=3,e.dy=-5,i.x=(t.width-i.width)/2):(s.innerHTML=`Game over you lost! <br /> Your Score - ${r.score}`,setTimeout(()=>{document.location.reload()},3e3),e.dx=0,e.dy=0))),i.rightClick&&i.x<t.width-i.width?i.x+=7:i.leftClick&&i.x>0&&(i.x-=7)}render(t){this.bricks.render(t),this.paddle.render(t),this.HUD.render(t),this.ball.render(t)}}(l,c),a=()=>{h.clearRect(0,0,l.width,l.height),d.render(h),d.collisionDetection(),d.move(l),requestAnimationFrame(a)};a()}]);